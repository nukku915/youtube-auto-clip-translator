# Youtube自動切り抜き翻訳ツール - 計画書

## 1. 機能要件定義

### 入力
- Youtube動画のURL

### 出力
- 切り抜き動画（翻訳字幕付き）
- 字幕ファイル（.srt / .vtt）

### コア機能
| # | 機能 | 説明 | 必須/任意 |
|---|------|------|-----------|
| 1 | 動画取得 | URLから動画をダウンロード | 必須 |
| 2 | 音声抽出 | 動画から音声を分離 | 必須 |
| 3 | 文字起こし | 音声→テキスト変換（タイムスタンプ付き） | 必須 |
| 4 | 翻訳 | 原文→翻訳文 | 必須 |
| 5 | 字幕生成 | 翻訳テキストから字幕ファイル作成 | 必須 |
| 6 | 切り抜き検出 | 見どころ部分の自動抽出 | 任意 |
| 7 | 動画編集 | 切り抜き＋字幕焼き付け | 任意 |

### 検討ポイント
- [ ] 対応言語ペア（例: 英語→日本語、日本語→英語）
- [ ] 切り抜き検出のロジック（手動指定 or 自動）
- [ ] 字幕の焼き付け有無

---

## 2. ワークフロー

```
[Youtube URL入力]
      │
      ▼
┌─────────────┐
│ 1. 動画取得  │  yt-dlp
└─────────────┘
      │
      ▼
┌─────────────┐
│ 2. 音声抽出  │  FFmpeg
└─────────────┘
      │
      ▼
┌─────────────┐
│ 3. 文字起こし │  Whisper
└─────────────┘
      │
      ▼
┌─────────────┐
│ 4. 翻訳     │  ???
└─────────────┘
      │
      ▼
┌─────────────┐
│ 5. 字幕生成  │  自作 or ライブラリ
└─────────────┘
      │
      ▼
┌─────────────────────────┐
│ 6. 切り抜き＋動画編集    │  FFmpeg
│   （オプション）         │
└─────────────────────────┘
      │
      ▼
[出力: 動画 + 字幕ファイル]
```

---

## 3. 技術スタック

### 言語
- **Python** （ML系ライブラリとの親和性）

### ツール・ライブラリ

| 処理 | ツール | 備考 |
|------|--------|------|
| 動画取得 | yt-dlp | youtube-dlの後継、活発にメンテ |
| 音声/動画処理 | FFmpeg | 業界標準 |
| 文字起こし | OpenAI Whisper | ローカル実行可、高精度 |
| 翻訳 | ??? | 要検討 |
| 字幕処理 | pysrt / webvtt-py | |

### 翻訳API候補

| サービス | メリット | デメリット |
|----------|----------|------------|
| Google Translate API | 安定、多言語対応 | 有料、API制限 |
| DeepL API | 高品質な翻訳 | 有料、言語数限定 |
| Claude API | コンテキスト理解◎ | コスト高め |
| ローカルLLM | 無料、プライバシー | 品質・速度に課題 |

---

## 4. 未決定事項・議論ポイント

1. **翻訳エンジンの選定**
   - コスト vs 品質のバランスは？
   -

2. **切り抜き検出のアプローチ**
   - 手動でタイムスタンプ指定？
   - 自動検出（盛り上がり検知、無音区間など）？
   -

3. **実行環境**
   - ローカルのみ？
   - クラウド併用？
   -

4. **その他**
   -

